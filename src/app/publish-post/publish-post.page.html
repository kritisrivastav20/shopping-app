<ion-header>
  <ion-toolbar>
    <ion-row>
      <ion-col size="1" class="modal-back-button-col">
        <ion-icon class="modal-back-button" src="assets/icon/back.svg" (click)=closeModal()></ion-icon>
      </ion-col>
      <ion-col size="10">
        <ion-title>Publish Post</ion-title>
      </ion-col>
      <ion-col size="1"></ion-col>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col size="12">
        <ion-label class="field-header-label">Add product pictures from your post</ion-label>
      </ion-col>
      <ion-col size="12" *ngIf="!isProductImageSelected">
        <div class="upload-div" (click)="selectProductImage()">
          <ion-row style="height: 100%;">
            <ion-col size="12" class="upload-image-col">
              <ion-icon src="assets/icon/upload-image.svg" class="upload-icon"></ion-icon>
            </ion-col>
            <ion-col size="12" class="upload-label-col">
              <ion-label class="upload-label">Upload Product Image</ion-label>
            </ion-col>
          </ion-row>
        </div>
      </ion-col>
      <ion-col size="12" *ngIf="isProductImageSelected">
        <ion-slides pager="true" [options]="slideOpts" (ionSlideDidChange)="imageChanged(slides)" #slides>
          <ion-slide *ngFor="let prod of postProducts; let i = index;" style="height: 250px;">
            <ion-card class="img-card">
              <ion-card-content class="img-card-content">
                <img src="{{'data:image/png;base64,' + prod.imageBase64}}" class="slide-image" />
                <ion-icon name="trash" class="trash-icon" (click)="removeProduct(i)"></ion-icon>
              </ion-card-content>
            </ion-card>
          </ion-slide>
          <ion-slide style="height: 250px;">
            <ion-card class="img-card" (click)=selectProductImage()>
              <ion-card-content class="img-card-content">
                <ion-row style="height: 100%;">
                  <ion-col size="12" class="upload-image-col">
                    <ion-icon src="assets/icon/plus-more.svg" class="upload-icon"></ion-icon>
                  </ion-col>
                  <ion-col size="12" class="upload-label-col">
                    <ion-label class="upload-label">Upload More</ion-label>
                  </ion-col>
                </ion-row>
              </ion-card-content>
            </ion-card>
          </ion-slide>
        </ion-slides>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
